
# 라즈베리파이 우분투 서버 IP 셋팅 가이드 문서

## IP 설정하는 2가지 방법

### 1. 윈도우에서 IP 셋팅 방법

- 준비물: 구워진 Micro SD Card(Ubuntu Server), usb 리더기
- usb 리더기에 Micro SD Card에 넣고 윈도우 PC USB 포트에 연결합니다.
- 포맷창이나 드라이브 문제가 있다는 창이 나와도 무시합니다.(설명 : 구워진 드라이브 포맷이 윈도우에서 인식하지 못하기 때문에 나오는 창이기 때문에 무시해주시면 됩니다.)
- 인식된 system-boot 드라이브에 들어갑니다.
- cmdline.txt 파일을 열고, 셋팅하고자 하는 ip를 맨 뒤에 입력해주시고 저장해주시면 됩니다. 
(입력 예시는 아래와 같습니다. ip 충돌이 나지 않게 사용하지 않는 사내 ip를 입력 해주시고 따로 메모해서 기억해주셔야 합니다.)

```bash
ip=192.168.1.200
```

- 저장이 완료되었으면, 안전하게 usb 꺼내주시고 라즈베리파이에 해당 Micro SD Card를 삽입 후 부팅을 해주시면 됩니다. 부팅이 되고 인터넷 연결이 되었으면 성공입니다.

추가 설명

- 게이트웨이나 서브넷마스크가 상세히 입력해야 할 경우 아래와 같은 방식으로 입력해주시면 됩니다.

```bash
ip=192.168.1.200::192.168.1.1:255.255.255.0:rpi:eth0:off
```

- 만약 이런 방식으로도 연결이 되지 않는다면, 라즈베리파이에 모니터와 키보드를 연결하고 CLI 창으로 IP를 셋팅 해주셔야 합니다.

### 2. 라즈베리파이에서 IP 셋팅 방법

- 라즈베리파이에 모니터와 키보드를 연결시키고 전원을 인가합니다.
- 로그인 후 아래와 같은 명령어를 입력해줍니다. (설명 : ip 설정 파일을 만들고 설정을 진행합니다.)
- `sudo vim /etc/netplan/01-netcfg.yaml`
- 명령어 입력하면 파일이 생성되고 vim 에디터로 파일에 접근하게 됩니다. vim 에디터 명령어를 이용하여 텍스트 파일처럼 작성하시면 됩니다.
- (단축키 설명 : i 키를 누를 시 입력모드로 전환됩니다, esc 키를 누를시 명령 모드가 종료됩니다,  명령 모드가 종료된 상태에서 :wq 를 입력 후 엔터를 누르면 파일을 저장 후 종료 합니다. :q! 를 입력 후 엔터를 누르면 파일이 강제종료됩니다.) - 설명에 나와있는 명령어들로 ip 설정 쉽게 할 수 있습니다.
- 공백 간격은 스페이스바 4번 입니다.

```csharp
// 작성중
```

- 위 예시와 같이 셋팅할 IP로 같이 설정이 끝났다면 esc 키를 입력 후 명령 모드를 끝내고 :wq 를 입력하고 저장 후 종료 합니다.
- `sudo netplan apply` 명령을 입력하여 설정을 반영 합니다.
- `hostname -i` 명령을 입력하여 반영이 되었는지 확인 합니다.
- 제대로 반영이 되었고 인터넷이 연결이 되었는지 확인하기 위해서 간단한 테스트를 진행합니다.
- `ping [google.com](http://google.com)` 명령을 입력하여 ping 을 구글로 보내고 받는지 확인합니다. 정상적으로 핑을 받으면 인터넷 연결이 성공한 것입니다. (ping 종료 단축키 : ctrl + c)

### 사내망에서 인터넷 연결이 성공적으로 되었다면, 원격에서 해당 라즈베리파이에 ssh로 접근하여 제어할 수 있습니다.
IP 셋팅 성공을 기원합니다.
